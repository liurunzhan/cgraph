ROOT=..
INC=$(ROOT)/include
LIB=$(ROOT)/lib

DIR=.

SOURCE=$(wildcard *.c)
OBJECT=$(SOURCE:.c=.o)

LIBSTATIC_TARGET=$(LIB)/$(LIBSTATIC)
LIBSHARED_TARGET=$(LIB)/$(LIBSHARED)

.PHONY: all clean distclean

all: $(LIBSTATIC_TARGET) $(LIBSHARED_TARGET)

$(LIBSTATIC_TARGET): $(OBJECT)
	$(AR) $(ARFLAGS) $(LIBSTATIC_TARGET) $(OBJECT)

$(LIBSHARED_TARGET): $(OBJECT)
	$(CC) $(CSFLAGS) -o $(LIBSHARED_TARGET) $(OBJECT)

$(OBJECT): %.o: %.c
	$(CC) $(CFLAGS) -I$(INC) -c $< -o $@

clean:
	$(RM) $(RMFLAGS) $(OBJECT)

distclean:
	$(RM) $(RMFLAGS) $(OBJECT)